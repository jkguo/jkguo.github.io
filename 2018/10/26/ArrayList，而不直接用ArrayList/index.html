<!DOCTYPE html><html lang="null"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>为么是list ArrayList，而不直接用ArrayList | jkguo's blog</title><link rel="stylesheet" type="text/css" href="//fonts.neworld.org/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.1"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.1"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">为么是list ArrayList，而不直接用ArrayList</h1><a id="logo" href="/.">jkguo's blog</a><p class="description"></p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> Start</i></a><a href="/archives/"><i class="fa fa-archive"> archives</i></a><a href="/about/"><i class="fa fa-user"> Über</i></a></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">为么是list ArrayList，而不直接用ArrayList</h1><div class="post-meta"><a href="/2018/10/26/ArrayList，而不直接用ArrayList/#comments" class="comment-count"></a><p><span class="date">Oct 26, 2018</span></p></div><div class="post-content"><p>百度的时候看到这篇文章在前面.但是看文章已经是六年前写的了,想必当时有一定的局限性吧.其实更关键的东西不是在于<br>修改<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List list = <span class="keyword">new</span> ArrayList ();</span><br></pre></td></tr></table></figure></p>
<p>为<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List list = <span class="keyword">new</span> LinkedList();</span><br></pre></td></tr></table></figure></p>
<p>这种显然是设计的时候考虑不周.<br>这样的好处应该是在于,为方法设计一个参数的时候,<br><code>foo(List list)</code>可以接纳<code>ArrayList</code>和<code>LinkedList</code>而不是需要去写一个重载.</p>
<hr>
<p><strong>编程是要面向对象编程，针对抽象（接口），而非具体</strong><br>List 是接口，ArrayList是实现</p>
<p>实现List接口的有ArrayList、LinkedList、Vector等，所以用哪个就直接new 一个接口实现。  </p>
<p>这是一种很好的设计模式.一个接口有多种实现，这种写法是java面向对象的一种思想，依赖倒置原则,即依赖于抽象不依赖于实现(具体)。</p>
<p>给调用者提供的应该是接口或者抽象类，而实现者可以实现或者继承接口或者抽象类来满足调用者，这样调用者不必知道实现者怎样操作，实现者也可以根据具体情况去实现，这样去除了耦合。这就是java设计模式的基础思想之一。</p>
<p>从Java语法上，这种方式是使用接口引用指向具体实现，这样大大提高了代码使用的灵活性。</p>
<p>ArrayList的话，只需改动一行即可：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List list = <span class="keyword">new</span> LinkedList();</span><br></pre></td></tr></table></figure></p>
<p>而程序中的其它部分不需要改动，这样比较灵活，不会失去通用性。<br>不过有的时候，你如果能确定后边用的全部是ArrayList，最好使用ArrayList list = new ArrayList();<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ArrayList list =  <span class="keyword">new</span> ArrayList();</span><br></pre></td></tr></table></figure></p>
<p>将ArrayList   改为了List，并且返回了这个List<br>那么以后用的烦恼就是<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(list instanceOf java.util.ArrayList)&#123;   </span><br><span class="line">	<span class="comment">//do something  </span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(list instanceOf java.util.LinkedList）&#123;   </span><br><span class="line">	<span class="comment">//error  </span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(list instanceOf cn.com.bigc.myList)&#123;   </span><br><span class="line">	<span class="comment">//do；……some   xp   not   defined   in   List   </span></span><br><span class="line">&#125;</span><br><span class="line">……</span><br></pre></td></tr></table></figure></p>
<hr>
<p>如果你要想把这个if   else去掉，那么，你还必须再写几个类。呵呵，这样的代价是不值得的。<br>如果你事先已经确定了你肯定采用ArrayList，为什么要用List代替呢？如果用List代替，那么肯定是我所有的操作基本上都是它父类已经定义好的，否则这种替代，个人以为不一定合算。</p>
<p>面向接口编程思想。</p>
<p>首先，面向接口编程和面向对象编程并不是平级的，它并不是比面向对象编程更先进的一种独立的编程思想，而是附属于面向对象思想体系，属于其一部分。或者说，它是面向对象编程体系中的思想精髓之一。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.这样你就只能调用List接口里面定义好的方法，而不能使用你自己在ArrayList扩展的方法。</span></span><br><span class="line">     List list = <span class="keyword">new</span> ArrayList();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.这样你可以使用自己在ArrayList类上扩展的方法</span></span><br><span class="line">    ArrayList list = <span class="keyword">new</span> ArrayList();</span><br><span class="line"><span class="comment">// 接口就是定义了一些行为，它要求你应该做什么。</span></span><br><span class="line"><span class="comment">// 假如你采用了面向接口编程方式，也就是第一种方式：List list = new ArrayList();</span></span><br><span class="line"><span class="comment">// 就能通过接口很大限度上规范开发人员的实现规则，因为你现在只能调用接口的方法。</span></span><br></pre></td></tr></table></figure></p>
<hr>
<p>List是一个接口，而ArrayList 是一个类。 ArrayList 继承并实现了List。</p>
<p>List list = new ArrayList();这句创建了一个ArrayList的对象后把上溯到了List。此时它是一个List对象了，有些ArrayList有但是</p>
<p>List没有的属性和方法，它就不能再用了。而ArrayList list=new ArrayList();创建一对象则保留了ArrayList的所有属性。</p>
<p>为什么一般都使用 List list = new ArrayList() ,而不用 ArrayList alist = new ArrayList()呢？</p>
<p>问题就在于List有多个实现类，如</p>
<p>LinkedList或者Vector等等，现在你用的是ArrayList，也许哪一天你需要换成其它的实现类呢？，这时你只要改变这一行就行</p>
<p>了：List list = new LinkedList(); 其它使用了list地方的代码根本不需要改动。假设你开始用 ArrayList</p>
<p>alist = new ArrayList(), 这下你有的改了，特别是如果你使用了 ArrayList特有的方法和属性。</p>
<p>,如果没有特别需求的话,最好使用List list = new LinkedList(); ,便于程序代码的重构. 这就是面向接口编程的好处。</p>
</div><div class="tags"><a href="/tags/java/">java</a></div><div class="post-share"></div><div class="post-nav"><a href="/2018/10/20/java日期和时间问题总结/" class="next">java日期和时间问题总结</a></div><div id="comments"></div></div></div></div><div class="layout-r hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="widget-title"><i class="fa fa-xie"> Letzte</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/10/26/ArrayList，而不直接用ArrayList/">为么是list ArrayList，而不直接用ArrayList</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/20/java日期和时间问题总结/">java日期和时间问题总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/20/idea常用快捷方式/">idea常用快捷方式</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/16/hexo默认主题页面响应慢的优化/">hexo默认主题页面响应慢的优化</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/13/流程图/">流程图</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/30/Spring入门篇（三）/">Spring入门篇（三）</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/22/Spring入门篇（二）/">Spring入门篇（二）</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/20/Spring入门篇（一）/">Spring入门篇（一）</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> Tags</i></div><div class="tagcloud"><a href="/tags/java/" style="font-size: 15px;">java</a> <a href="/tags/spring/" style="font-size: 15px;">spring</a> <a href="/tags/idea/" style="font-size: 15px;">idea</a> <a href="/tags/hexo/" style="font-size: 15px;">hexo</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> Archiv</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li></ul></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/about/">Über</a></p><p><span> Copyright &copy;<a href="/." rel="nofollow">jkguo.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script type="text/javascript" src="/js/toctotop.js?v=2.0.1" async></script></body></html>